(this["webpackJsonpcardano-warriors-cnft-spy"]=this["webpackJsonpcardano-warriors-cnft-spy"]||[]).push([[0],{108:function(t,e,n){},141:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(33),i=n.n(c),s=(n(108),n(9)),o=n(47),l=n.n(o),j=n(180),d=n(40),u=n(15),b=n(86),f=n(188),h=n(190),p=n(192),O=n(193),m=n(194),x=n(181),v=n(182),g=n(189),w=n(1);var y=function(){return Object(w.jsx)("div",{style:{width:"100%",display:"grid",placeItems:"center"},children:Object(w.jsx)(g.a,{color:"secondary"})})},_=n(3),S=n(87),k=n(5),C=n(27),L=n(184),N=["className"],W=Object(k.a)((function(t){var e=t.className,n=Object(S.a)(t,N);return Object(w.jsx)(L.a,Object(d.a)(Object(d.a)({},n),{},{classes:{popper:e}}))}))((function(t){var e=t.theme;return Object(_.a)({},"& .".concat(C.a.tooltip),{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"})})),I="https://api.cnft.io/market/listings",D=function(){var t,e,n,a,r,c,i,s,o,j,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u={project:null!==(t=d.project)&&void 0!==t?t:"Cardano Warriors",types:null!==(e=d.types)&&void 0!==e?e:["listing","offer"],search:null!==(n=d.search)&&void 0!==n?n:void 0,sort:null!==(a=d.sort)&&void 0!==a?a:void 0,page:null!==(r=d.page)&&void 0!==r?r:1,priceMin:null!==(c=d.priceMin)&&void 0!==c?c:0,priceMax:null!==(i=d.priceMax)&&void 0!==i?i:void 0,verified:null===(s=d.verified)||void 0===s||s,nsfw:null!==(o=d.nsfw)&&void 0!==o&&o,sold:null!==(j=d.sold)&&void 0!==j&&j};return new Promise((function(t,e){l.a.post(I,u,{headers:{"Content-Type":"application/json"}}).then((function(e){return t(e.data.results)})).catch((function(t){return e(t)}))}))},z=n(43),E=n.n(z);function R(t){var e=t.listing;return Object(w.jsx)(h.a,{sx:{margin:"1rem 2rem",borderRadius:"1rem",overflow:"visible"},children:Object(w.jsx)(W,{followCursor:!0,title:Object(w.jsxs)(a.Fragment,{children:[Object(w.jsxs)(f.a,{variant:"body2",children:[e.asset.metadata.type," - ",e.asset.metadata.rarity]}),Object(w.jsx)("br",{}),e.asset.metadata.traits.map((function(t){return Object(w.jsxs)(a.Fragment,{children:[Object(w.jsx)(f.a,{variant:"body3",children:t}),Object(w.jsx)("br",{})]},"".concat(e._id,"-").concat(t))})),Object(w.jsx)("br",{}),e.asset.metadata.items.map((function(t){return Object(w.jsxs)(a.Fragment,{children:[Object(w.jsxs)(f.a,{variant:"body3",children:[t.name," - ",t.rarity]}),Object(w.jsx)("br",{})]},"".concat(e._id,"-").concat(t.name))}))]}),children:Object(w.jsxs)(p.a,{onClick:function(){return window.open("https://cnft.io/token/".concat(e._id),"_blank")},children:[Object(w.jsx)(O.a,{component:"img",image:"https://ipfs.io/ipfs/".concat(e.asset.metadata.image.replace("ipfs://","")),alt:""}),Object(w.jsxs)(m.a,{children:[Object(w.jsxs)(f.a,{gutterBottom:!0,variant:"h5",children:["\u20b3",e.price/1e6]}),Object(w.jsxs)(f.a,{variant:"body2",color:"text.secondary",children:[e.asset.metadata.name,Object(w.jsx)("br",{}),Object(w.jsxs)("span",{style:{fontSize:"0.7rem"},children:["Listed: ",new Date(e.createdAt).toLocaleString()]}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsxs)("span",{className:E.a.iconsWrapper,children:[Object(w.jsxs)("span",{className:E.a.iconItem,children:[Object(w.jsx)(x.a,{fontSize:"small"})," ",e.views.length]}),Object(w.jsxs)("span",{className:E.a.iconItem,children:[Object(w.jsx)(v.a,{fontSize:"small"})," ",e.favouriteCount]})]})]})]})]})})})}var F=function(t){var e=t.title,n=t.options,r=Object(a.useState)([]),c=Object(s.a)(r,2),i=c[0],o=c[1],l=Object(a.useState)(!1),h=Object(s.a)(l,2),p=h[0],O=h[1],m=Object(a.useRef)(1),x=Object(j.a)("(min-width: 768px)");return Object(a.useEffect)((function(){var t=setInterval((function(){D(n).then((function(t){o((function(e){if(!e.length)return t;var n,a=[],r=Object(b.a)(t);try{for(r.s();!(n=r.n()).done;){var c=n.value;if(c._id===e[0]._id)break;a.push(c)}}catch(i){r.e(i)}finally{r.f()}return[].concat(a,Object(u.a)(e))}))})).catch((function(t){console.error(t)}))}),1e4);return function(){clearInterval(t)}}),[n]),Object(w.jsxs)("div",{className:E.a.listingsContainer,children:[Object(w.jsx)(f.a,{variant:"h4",component:"div",sx:{margin:"1rem 0",fontFamily:"IndieFlower",fontWeight:"bold",color:"whitesmoke",textShadow:"-1px 1px 3px black"},children:e}),Object(w.jsxs)("div",{className:E.a.list,onScroll:function(t){var e=t.target,a=e.scrollTop,r=e.scrollHeight,c=e.clientHeight,i=e.scrollLeft,s=e.clientWidth,l=e.scrollWidth;!p&&(x&&a===r-c||!x&&i===l-s)&&(m.current+=1,O(!0),D(Object(d.a)(Object(d.a)({},n),{},{page:m.current})).then((function(t){o((function(e){for(var n=[],a=t.length-1;a>=0;a--){var r=t[a];if(r._id===e[e.length-1]._id)break;n.unshift(r)}return[].concat(Object(u.a)(e),n)})),O(!1)})).catch((function(t){console.error(t),O(!1)})))},children:[i.length?i.map((function(t){return Object(w.jsx)(R,{listing:t},t._id)})):Object(w.jsx)(y,{}),p&&Object(w.jsx)(y,{})]})]})},M=n(185),H=n(187),A=n(89),J=n.n(A),T=(n(138),n(90)),Y=n.n(T),q=n(60),B=n.n(q);var P=function(t){var e=t.warriorsData,n=t.floorData,r=function(t,e){var a=n[t].map((function(t){return new Date(t.timestamp).toLocaleDateString().replace("/".concat((new Date).getFullYear()),"")})),r=n[t].map((function(t){return t.floor}));if(e){for(;a.length<30;)a.unshift(0);for(;r.length<30;)r.unshift(0)}else{for(;a.length<7;)a.unshift(0);for(;r.length<7;)r.unshift(0)}return{options:{chart:{id:"floor-chart-".concat(t)},xaxis:{categories:a}},series:[{name:"floor-chart-".concat(t),data:r}]}},c=Object(a.useState)("mage"),i=Object(s.a)(c,2),o=i[0],l=i[1],j=Object(a.useState)(!1),d=Object(s.a)(j,2),u=d[0],b=d[1],f=Object(a.useState)(r(o,u)),h=Object(s.a)(f,2),p=h[0],O=h[1],m=Object(a.useState)(window.innerWidth-750),x=Object(s.a)(m,2),v=x[0],g=x[1];return Object(a.useEffect)((function(){O(r(o,u))}),[o,u]),Object(a.useEffect)((function(){var t=function(){return g(window.innerWidth-750)};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),Object(w.jsxs)("div",{className:B.a.container,children:[Object(w.jsxs)("div",{className:B.a.controls,children:[Object(w.jsxs)("label",{className:B.a.toggle,children:[Object(w.jsx)("span",{children:"7d"}),Object(w.jsx)(J.a,{icons:!1,defaultChecked:u,onChange:function(){return b((function(t){return!t}))}}),Object(w.jsx)("span",{children:"30d"})]}),Object(w.jsx)(M.a,{value:o,onChange:function(t){return l(t.target.value)},children:e.warriors.map((function(t){return Object(w.jsxs)(H.a,{value:t.type,children:[t.type," - ",e.rarities[t.rarity_level]]},t.type)}))})]}),Object(w.jsx)(Y.a,{options:p.options,series:p.series,type:"bar",width:v})]})};var Q=function(){var t=Object(a.useState)(null),e=Object(s.a)(t,2),n=e[0],r=e[1],c=Object(a.useState)(null),i=Object(s.a)(c,2),o=i[0],d=i[1],u=Object(j.a)("(min-width: 1024px)");return Object(a.useEffect)((function(){l.a.get("https://raw.githubusercontent.com/belferink1996/cardano-warriors-cnft-spy/main/data/warriors.json").then((function(t){return r(t.data)})).catch((function(t){return console.error(t)})),l.a.get("https://raw.githubusercontent.com/belferink1996/cardano-warriors-cnft-spy/main/data/floor-data.json").then((function(t){return d(t.data)})).catch((function(t){return console.error(t)}))}),[]),u?Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(F,{title:"Recently Listed",options:{sold:!1}}),n&&o&&Object(w.jsx)(P,{warriorsData:n,floorData:o}),Object(w.jsx)(F,{title:"Recently Sold",options:{sold:!0}})]}):Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(F,{title:"Recently Listed",options:{sold:!1}}),Object(w.jsx)(F,{title:"Recently Sold",options:{sold:!0}})]})};i.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(Q,{})}),document.getElementById("root"))},43:function(t,e,n){t.exports={listingsContainer:"Listings_listingsContainer__1qYlq",list:"Listings_list__Hf406",iconsWrapper:"Listings_iconsWrapper__2kd-J",iconItem:"Listings_iconItem__37MwO"}},60:function(t,e,n){t.exports={container:"Charts_container__3joQH",controls:"Charts_controls__3XYWz",toggle:"Charts_toggle__3LOfw"}}},[[141,1,2]]]);
//# sourceMappingURL=main.76603869.chunk.js.map