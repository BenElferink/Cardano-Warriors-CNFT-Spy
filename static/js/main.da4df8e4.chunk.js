(this["webpackJsonpcardano-warriors-cnft-spy"]=this["webpackJsonpcardano-warriors-cnft-spy"]||[]).push([[0],{112:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),i=n(28),r=n.n(i),s=(n(86),n(33)),o=n(17),l=n(65),d=n(9),j=n(145),b=n(143),u=n(142),p=n(141),f=n(146),h=n(147),O=n(138),m=n(139),x=n(144),v=n(1);var g=function(){return Object(v.jsx)("div",{style:{width:"100%",display:"grid",placeItems:"center"},children:Object(v.jsx)(x.a,{color:"secondary"})})},y=n(6),_=n(69),w=n(8),k=n(26),S=n(140),C=["className"],I=Object(w.a)((function(t){var e=t.className,n=Object(_.a)(t,C);return Object(v.jsx)(S.a,Object(s.a)(Object(s.a)({},n),{},{classes:{popper:e}}))}))((function(t){var e=t.theme;return Object(y.a)({},"& .".concat(k.a.tooltip),{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"})})),L=n(71),N=n.n(L),W="https://api.cnft.io/market/listings",M=function(){var t,e,n,a,c,i,r,s,o,l,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},j={project:null!==(t=d.project)&&void 0!==t?t:"Cardano Warriors",types:null!==(e=d.types)&&void 0!==e?e:["listing","offer"],search:null!==(n=d.search)&&void 0!==n?n:void 0,sort:null!==(a=d.sort)&&void 0!==a?a:void 0,page:null!==(c=d.page)&&void 0!==c?c:1,priceMin:null!==(i=d.priceMin)&&void 0!==i?i:0,priceMax:null!==(r=d.priceMax)&&void 0!==r?r:void 0,verified:null===(s=d.verified)||void 0===s||s,nsfw:null!==(o=d.nsfw)&&void 0!==o&&o,sold:null!==(l=d.sold)&&void 0!==l&&l};return new Promise((function(t,e){N.a.post(W,j,{headers:{"Content-Type":"application/json"}}).then((function(e){return t(e.data.results)})).catch((function(t){return e(t)}))}))},F=n(36),R=n.n(F);function z(t){var e=t.listing;return Object(v.jsx)(u.a,{sx:{margin:"1rem 2rem",borderRadius:"1rem",overflow:"visible"},children:Object(v.jsx)(I,{followCursor:!0,title:Object(v.jsxs)(a.Fragment,{children:[Object(v.jsxs)(b.a,{variant:"body2",children:[e.asset.metadata.type," - ",e.asset.metadata.rarity]}),Object(v.jsx)("br",{}),e.asset.metadata.traits.map((function(t){return Object(v.jsxs)(a.Fragment,{children:[Object(v.jsx)(b.a,{variant:"body3",children:t}),Object(v.jsx)("br",{})]},"".concat(e._id,"-").concat(t))})),Object(v.jsx)("br",{}),e.asset.metadata.items.map((function(t){return Object(v.jsxs)(a.Fragment,{children:[Object(v.jsxs)(b.a,{variant:"body3",children:[t.name," - ",t.rarity]}),Object(v.jsx)("br",{})]},"".concat(e._id,"-").concat(t.name))}))]}),children:Object(v.jsxs)(p.a,{onClick:function(){return window.open("https://cnft.io/token/".concat(e._id),"_blank")},children:[Object(v.jsx)(f.a,{component:"img",image:"https://ipfs.io/ipfs/".concat(e.asset.metadata.image.replace("ipfs://","")),alt:""}),Object(v.jsxs)(h.a,{children:[Object(v.jsxs)(b.a,{gutterBottom:!0,variant:"h5",children:["\u20b3",e.price/1e6]}),Object(v.jsxs)(b.a,{variant:"body2",color:"text.secondary",children:[e.asset.metadata.name,Object(v.jsx)("br",{}),Object(v.jsxs)("span",{style:{fontSize:"0.7rem"},children:["Listed: ",new Date(e.createdAt).toLocaleString()]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsxs)("span",{className:R.a.iconsWrapper,children:[Object(v.jsxs)("span",{className:R.a.iconItem,children:[Object(v.jsx)(O.a,{fontSize:"small"})," ",e.views.length]}),Object(v.jsxs)("span",{className:R.a.iconItem,children:[Object(v.jsx)(m.a,{fontSize:"small"})," ",e.favouriteCount]})]})]})]})]})})})}var H=function(t){var e=t.title,n=t.options,c=Object(a.useState)([]),i=Object(d.a)(c,2),r=i[0],u=i[1],p=Object(a.useState)(!1),f=Object(d.a)(p,2),h=f[0],O=f[1],m=Object(a.useRef)(1),x=Object(j.a)("(min-width: 768px)");return Object(a.useEffect)((function(){var t=setInterval((function(){M(n).then((function(t){u((function(e){if(!e.length)return t;var n,a=[],c=Object(l.a)(t);try{for(c.s();!(n=c.n()).done;){var i=n.value;if(i._id===e[0]._id)break;a.push(i)}}catch(r){c.e(r)}finally{c.f()}return[].concat(a,Object(o.a)(e))}))})).catch((function(t){console.error(t)}))}),1e4);return function(){clearInterval(t)}}),[n]),Object(v.jsxs)("div",{className:R.a.listingsContainer,children:[Object(v.jsx)(b.a,{variant:"h4",component:"div",sx:{margin:"1rem 0",fontFamily:"IndieFlower",fontWeight:"bold",color:"whitesmoke",textShadow:"-1px 1px 3px black"},children:e}),Object(v.jsxs)("div",{className:R.a.list,onScroll:function(t){var e=t.target,a=e.scrollTop,c=e.scrollHeight,i=e.clientHeight,r=e.scrollLeft,l=e.clientWidth,d=e.scrollWidth;!h&&(x&&a===c-i||!x&&r===d-l)&&(m.current+=1,O(!0),M(Object(s.a)(Object(s.a)({},n),{},{page:m.current})).then((function(t){u((function(e){for(var n=[],a=t.length-1;a>=0;a--){var c=t[a];if(c._id===e[e.length-1]._id)break;n.unshift(c)}return[].concat(Object(o.a)(e),n)})),O(!1)})).catch((function(t){console.error(t),O(!1)})))},children:[r.length?r.map((function(t){return Object(v.jsx)(z,{listing:t},t._id)})):Object(v.jsx)(g,{}),h&&Object(v.jsx)(g,{})]})]})};var J=function(){return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(H,{title:"Recently Listed",options:{sold:!1}}),Object(v.jsx)(H,{title:"Recently Sold",options:{sold:!0}})]})};r.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(J,{})}),document.getElementById("root"))},36:function(t,e,n){t.exports={listingsContainer:"Listings_listingsContainer__1qYlq",list:"Listings_list__Hf406",iconsWrapper:"Listings_iconsWrapper__2kd-J",iconItem:"Listings_iconItem__37MwO"}},86:function(t,e,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.da4df8e4.chunk.js.map