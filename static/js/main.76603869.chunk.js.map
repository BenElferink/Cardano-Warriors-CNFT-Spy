{"version":3,"sources":["components/Loading.js","components/HtmlTooltip.js","constants/urls.js","functions/crawlCNFT.js","components/Listings.js","constants/ADA_SYMBOL.js","components/FloorCharts.js","App.js","index.js","styles/Listings.module.css","styles/Charts.module.css"],"names":["Loading","style","width","display","placeItems","CircularProgress","color","HtmlTooltip","styled","className","props","Tooltip","classes","popper","theme","tooltipClasses","tooltip","backgroundColor","maxWidth","fontSize","typography","pxToRem","border","CNFT_URL","crawlCNFT","options","payload","project","types","search","undefined","sort","page","priceMin","priceMax","verified","nsfw","sold","Promise","resolve","reject","Axios","post","headers","then","response","data","results","catch","error","ListItem","listing","Card","sx","margin","borderRadius","overflow","followCursor","title","Typography","variant","asset","metadata","type","rarity","traits","map","trait","_id","items","item","name","CardActionArea","onClick","window","open","CardMedia","component","image","replace","alt","CardContent","gutterBottom","price","Date","createdAt","toLocaleString","styles","iconsWrapper","iconItem","Visibility","views","length","Favorite","favouriteCount","Listings","useState","setData","isLoadingMore","setIsLoadingMore","pageRef","useRef","isDesktop","useMediaQuery","useEffect","interval","setInterval","warriors","prev","newWarriors","currentWarrior","push","console","clearInterval","listingsContainer","fontFamily","fontWeight","textShadow","list","onScroll","e","target","scrollTop","scrollHeight","clientHeight","scrollLeft","clientWidth","scrollWidth","current","i","unshift","FloorCharts","warriorsData","floorData","generateChartData","warriorType","showMonth","dates","obj","timestamp","toLocaleDateString","getFullYear","prices","floor","chart","id","xaxis","categories","series","selectedType","setSelectedType","expandToMonth","setExpandToMonth","chartData","setChartData","innerWidth","chartWidth","setChartWidth","handler","addEventListener","removeEventListener","container","controls","toggle","icons","defaultChecked","onChange","Select","value","MenuItem","rarities","rarity_level","App","setWarrirosData","setFloorData","get","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.76603869.chunk.js","sourcesContent":["import { CircularProgress } from '@mui/material'\n\nfunction Loading() {\n  return (\n    <div style={{ width: '100%', display: 'grid', placeItems: 'center' }}>\n      <CircularProgress color='secondary' />\n    </div>\n  )\n}\n\nexport default Loading\n","import { styled } from '@mui/material/styles'\nimport { tooltipClasses } from '@mui/material/Tooltip'\nimport { Tooltip } from '@mui/material'\n\nconst HtmlTooltip = styled(({ className, ...props }) => <Tooltip {...props} classes={{ popper: className }} />)(\n  ({ theme }) => ({\n    [`& .${tooltipClasses.tooltip}`]: {\n      backgroundColor: '#f5f5f9',\n      color: 'rgba(0, 0, 0, 0.87)',\n      maxWidth: 220,\n      fontSize: theme.typography.pxToRem(12),\n      border: '1px solid #dadde9',\n    },\n  }),\n)\n\nexport default HtmlTooltip\n","const CNFT_URL = 'https://api.cnft.io/market/listings'\n\nconst FLOOR_DATA_URL =\n  'https://raw.githubusercontent.com/belferink1996/cardano-warriors-cnft-spy/main/data/floor-data.json'\n\nconst WARRIOR_DATA_URL =\n  'https://raw.githubusercontent.com/belferink1996/cardano-warriors-cnft-spy/main/data/warriors.json'\n\nexport { CNFT_URL, FLOOR_DATA_URL, WARRIOR_DATA_URL }\n","import Axios from 'axios'\nimport { CNFT_URL } from '../constants'\n\nconst crawlCNFT = (options = {}) => {\n  const payload = {\n    project: options.project ?? 'Cardano Warriors',\n    types: options.types ?? ['listing', 'offer'],\n    search: options.search ?? undefined, // 'CardanoWarrior2682'\n    sort: options.sort ?? undefined, // { price: 1 }\n    page: options.page ?? 1,\n    priceMin: options.priceMin ?? 0,\n    priceMax: options.priceMax ?? undefined,\n    verified: options.verified ?? true,\n    nsfw: options.nsfw ?? false,\n    sold: options.sold ?? false,\n  }\n\n  return new Promise((resolve, reject) => {\n    Axios.post(CNFT_URL, payload, { headers: { 'Content-Type': 'application/json' } })\n      .then((response) => resolve(response.data.results))\n      .catch((error) => reject(error))\n  })\n}\n\nexport default crawlCNFT\n","import { Fragment, useEffect, useRef, useState } from 'react'\nimport { Card, CardActionArea, CardContent, CardMedia, Typography, useMediaQuery } from '@mui/material'\nimport { Favorite as FavoriteIcon, Visibility as VisibilityIcon } from '@mui/icons-material'\nimport Loading from './Loading'\nimport HtmlTooltip from './HtmlTooltip'\nimport { ADA_SYMBOL } from '../constants'\nimport crawlCNFT from '../functions/crawlCNFT'\nimport styles from '../styles/Listings.module.css'\n\nfunction Listings({ title, options }) {\n  const [data, setData] = useState([])\n  const [isLoadingMore, setIsLoadingMore] = useState(false)\n  const pageRef = useRef(1)\n  const isDesktop = useMediaQuery('(min-width: 768px)')\n\n  useEffect(() => {\n    // keep looking for new data every 10 seconds\n    const interval = setInterval(() => {\n      crawlCNFT(options)\n        .then((warriors) => {\n          setData((prev) => {\n            // if there is no pre-fetched data, just return the current fetched data\n            if (!prev.length) return warriors\n            // a verification method to add only new data to the front of the array\n            const newWarriors = []\n            for (const currentWarrior of warriors) {\n              if (currentWarrior._id === prev[0]._id) break\n              newWarriors.push(currentWarrior)\n            }\n            return [...newWarriors, ...prev]\n          })\n        })\n        .catch((error) => {\n          console.error(error)\n        })\n    }, 1000 * 10)\n\n    return () => {\n      clearInterval(interval)\n    }\n  }, [options])\n\n  const handleScroll = (e) => {\n    const { scrollTop, scrollHeight, clientHeight, scrollLeft, clientWidth, scrollWidth } = e.target\n    const isScrolledToBottom = scrollTop === scrollHeight - clientHeight\n    const isScrolledToRight = scrollLeft === scrollWidth - clientWidth\n\n    // fetch next page of data when scrolled to bottom\n    if (!isLoadingMore && ((isDesktop && isScrolledToBottom) || (!isDesktop && isScrolledToRight))) {\n      pageRef.current += 1\n      setIsLoadingMore(true)\n      crawlCNFT({ ...options, page: pageRef.current })\n        .then((warriors) => {\n          setData((prev) => {\n            // a verification method to add only new data to the end of the array\n            const newWarriors = []\n            for (let i = warriors.length - 1; i >= 0; i--) {\n              const currentWarrior = warriors[i]\n              if (currentWarrior._id === prev[prev.length - 1]._id) break\n              newWarriors.unshift(currentWarrior)\n            }\n            return [...prev, ...newWarriors]\n          })\n          setIsLoadingMore(false)\n        })\n        .catch((error) => {\n          console.error(error)\n          setIsLoadingMore(false)\n        })\n    }\n  }\n\n  return (\n    <div className={styles.listingsContainer}>\n      <Typography\n        variant='h4'\n        component='div'\n        sx={{\n          margin: '1rem 0',\n          fontFamily: 'IndieFlower',\n          fontWeight: 'bold',\n          color: 'whitesmoke',\n          textShadow: '-1px 1px 3px black',\n        }}>\n        {title}\n      </Typography>\n\n      <div className={styles.list} onScroll={handleScroll}>\n        {data.length ? data.map((listing) => <ListItem key={listing._id} listing={listing} />) : <Loading />}\n        {isLoadingMore && <Loading />}\n      </div>\n    </div>\n  )\n}\n\nfunction ListItem({ listing }) {\n  return (\n    <Card sx={{ margin: '1rem 2rem', borderRadius: '1rem', overflow: 'visible' }}>\n      <HtmlTooltip\n        followCursor\n        title={\n          <Fragment>\n            <Typography variant='body2'>\n              {listing.asset.metadata.type} - {listing.asset.metadata.rarity}\n            </Typography>\n            <br />\n            {listing.asset.metadata.traits.map((trait) => (\n              <Fragment key={`${listing._id}-${trait}`}>\n                <Typography variant='body3'>{trait}</Typography>\n                <br />\n              </Fragment>\n            ))}\n            <br />\n            {listing.asset.metadata.items.map((item) => (\n              <Fragment key={`${listing._id}-${item.name}`}>\n                <Typography variant='body3'>\n                  {item.name} - {item.rarity}\n                </Typography>\n                <br />\n              </Fragment>\n            ))}\n          </Fragment>\n        }>\n        <CardActionArea onClick={() => window.open(`https://cnft.io/token/${listing._id}`, '_blank')}>\n          <CardMedia\n            component='img'\n            image={`https://ipfs.io/ipfs/${listing.asset.metadata.image.replace('ipfs://', '')}`}\n            alt=''\n          />\n          <CardContent>\n            <Typography gutterBottom variant='h5'>\n              {ADA_SYMBOL}\n              {listing.price / 1000000}\n            </Typography>\n            <Typography variant='body2' color='text.secondary'>\n              {listing.asset.metadata.name}\n              <br />\n              <span style={{ fontSize: '0.7rem' }}>Listed: {new Date(listing.createdAt).toLocaleString()}</span>\n              <br />\n              <br />\n              <span className={styles.iconsWrapper}>\n                <span className={styles.iconItem}>\n                  <VisibilityIcon fontSize='small' /> {listing.views.length}\n                </span>\n                <span className={styles.iconItem}>\n                  <FavoriteIcon fontSize='small' /> {listing.favouriteCount}\n                </span>\n              </span>\n            </Typography>\n          </CardContent>\n        </CardActionArea>\n      </HtmlTooltip>\n    </Card>\n  )\n}\n\nexport default Listings\n","const ADA_SYMBOL = '₳'\n\nexport default ADA_SYMBOL\n","import { MenuItem, Select } from '@mui/material'\nimport React, { useEffect, useState } from 'react'\nimport Toggle from 'react-toggle'\nimport 'react-toggle/style.css'\nimport Chart from 'react-apexcharts'\nimport styles from '../styles/Charts.module.css'\n\n// https://www.npmjs.com/package/react-apexcharts\n// https://apexcharts.com/docs/react-charts/\n\nconst COLORS = [\n  'rgb(102, 178, 255)',\n  'rgb(60, 179, 113)',\n  'rgb(0, 0, 0)',\n  'rgb(245, 69, 3)',\n  'rgb(102, 0, 204)',\n  'rgb(102, 0, 204)',\n]\n\nconst chartWidthSubstract = 750\n\nfunction FloorCharts({ warriorsData, floorData }) {\n  const generateChartData = (warriorType, showMonth) => {\n    const dates = floorData[warriorType].map((obj) =>\n      new Date(obj.timestamp).toLocaleDateString().replace(`/${new Date().getFullYear()}`, ''),\n    )\n    const prices = floorData[warriorType].map((obj) => obj.floor)\n\n    if (showMonth) {\n      while (dates.length < 30) dates.unshift(0)\n      while (prices.length < 30) prices.unshift(0)\n    } else {\n      while (dates.length < 7) dates.unshift(0)\n      while (prices.length < 7) prices.unshift(0)\n    }\n\n    return {\n      options: {\n        chart: {\n          id: `floor-chart-${warriorType}`,\n        },\n        xaxis: {\n          categories: dates,\n        },\n      },\n      series: [\n        {\n          name: `floor-chart-${warriorType}`,\n          data: prices,\n        },\n      ],\n    }\n  }\n\n  const [selectedType, setSelectedType] = useState('mage')\n  const [expandToMonth, setExpandToMonth] = useState(false)\n  const [chartData, setChartData] = useState(generateChartData(selectedType, expandToMonth))\n  const [chartWidth, setChartWidth] = useState(window.innerWidth - chartWidthSubstract)\n\n  useEffect(() => {\n    setChartData(generateChartData(selectedType, expandToMonth))\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedType, expandToMonth])\n\n  useEffect(() => {\n    const handler = () => setChartWidth(window.innerWidth - chartWidthSubstract)\n    window.addEventListener('resize', handler)\n\n    return () => {\n      window.removeEventListener('resize', handler)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.controls}>\n        <label className={styles.toggle}>\n          <span>7d</span>\n          <Toggle\n            icons={false}\n            defaultChecked={expandToMonth}\n            onChange={() => setExpandToMonth((prev) => !prev)}\n          />\n          <span>30d</span>\n        </label>\n\n        <Select value={selectedType} onChange={(e) => setSelectedType(e.target.value)}>\n          {warriorsData.warriors.map((obj) => (\n            <MenuItem key={obj.type} value={obj.type}>\n              {obj.type} - {warriorsData.rarities[obj.rarity_level]}\n            </MenuItem>\n          ))}\n        </Select>\n      </div>\n\n      <Chart options={chartData.options} series={chartData.series} type='bar' width={chartWidth} />\n    </div>\n  )\n}\n\nexport default FloorCharts\n","import { useEffect, useState } from 'react'\nimport Axios from 'axios'\nimport { useMediaQuery } from '@mui/material'\nimport Listings from './components/Listings'\nimport FloorCharts from './components/FloorCharts'\nimport { FLOOR_DATA_URL, WARRIOR_DATA_URL } from './constants'\n\nfunction App() {\n  const [warriorsData, setWarrirosData] = useState(null)\n  const [floorData, setFloorData] = useState(null)\n  const isDesktop = useMediaQuery('(min-width: 1024px)')\n\n  useEffect(() => {\n    Axios.get(WARRIOR_DATA_URL)\n      .then((response) => setWarrirosData(response.data))\n      .catch((error) => console.error(error))\n\n    Axios.get(FLOOR_DATA_URL)\n      .then((response) => setFloorData(response.data))\n      .catch((error) => console.error(error))\n  }, [])\n\n  if (isDesktop) {\n    return (\n      <div className='App'>\n        <Listings title='Recently Listed' options={{ sold: false }} />\n\n        {warriorsData && floorData && <FloorCharts warriorsData={warriorsData} floorData={floorData} />}\n\n        <Listings title='Recently Sold' options={{ sold: true }} />\n      </div>\n    )\n  }\n\n  return (\n    <div className='App'>\n      <Listings title='Recently Listed' options={{ sold: false }} />\n      <Listings title='Recently Sold' options={{ sold: true }} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listingsContainer\":\"Listings_listingsContainer__1qYlq\",\"list\":\"Listings_list__Hf406\",\"iconsWrapper\":\"Listings_iconsWrapper__2kd-J\",\"iconItem\":\"Listings_iconItem__37MwO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Charts_container__3joQH\",\"controls\":\"Charts_controls__3XYWz\",\"toggle\":\"Charts_toggle__3LOfw\"};"],"sourceRoot":""}