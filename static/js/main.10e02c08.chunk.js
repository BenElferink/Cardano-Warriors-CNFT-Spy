(this["webpackJsonpcardano-warriors-cnft-spy"]=this["webpackJsonpcardano-warriors-cnft-spy"]||[]).push([[0],{110:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(28),i=n.n(r),s=(n(84),n(17)),o=n(63),l=n(9),d=n(6),j=n(40),b=n(66),u=n(8),p=n(26),f=n(143),h=n(139),O=n(144),x=n(142),m=n(141),v=n(140),g=n(145),y=n(146),w=n(137),k=n(138),S=n(67),_=n.n(S),N="https://api.cnft.io/market/listings",C=function(){var t,e,n,c,a,r,i,s,o,l,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},j={project:null!==(t=d.project)&&void 0!==t?t:"Cardano Warriors",types:null!==(e=d.types)&&void 0!==e?e:["listing","offer"],search:null!==(n=d.search)&&void 0!==n?n:void 0,sort:null!==(c=d.sort)&&void 0!==c?c:void 0,page:null!==(a=d.page)&&void 0!==a?a:1,priceMin:null!==(r=d.priceMin)&&void 0!==r?r:0,priceMax:null!==(i=d.priceMax)&&void 0!==i?i:void 0,verified:null===(s=d.verified)||void 0===s||s,nsfw:null!==(o=d.nsfw)&&void 0!==o&&o,sold:null!==(l=d.sold)&&void 0!==l&&l};return new Promise((function(t,e){_.a.post(N,j,{headers:{"Content-Type":"application/json"}}).then((function(e){return t(e.data.results)})).catch((function(t){return e(t)}))}))},F=n(1),I=["className"],M=function(){return Object(F.jsx)("div",{style:{width:"100%",display:"grid",placeItems:"center"},children:Object(F.jsx)(f.a,{color:"secondary"})})},R=Object(u.a)((function(t){var e=t.className,n=Object(b.a)(t,I);return Object(F.jsx)(h.a,Object(j.a)(Object(j.a)({},n),{},{classes:{popper:e}}))}))((function(t){var e=t.theme;return Object(d.a)({},"& .".concat(p.a.tooltip),{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"})}));function W(t){var e=t.listing;return Object(F.jsx)(m.a,{sx:{margin:"1rem 2rem",borderRadius:"1rem",overflow:"visible"},children:Object(F.jsx)(R,{followCursor:!0,title:Object(F.jsxs)(c.Fragment,{children:[Object(F.jsxs)(x.a,{variant:"body2",children:[e.asset.metadata.type," - ",e.asset.metadata.rarity]}),Object(F.jsx)("br",{}),e.asset.metadata.traits.map((function(t){return Object(F.jsxs)(c.Fragment,{children:[Object(F.jsx)(x.a,{variant:"body3",children:t}),Object(F.jsx)("br",{})]},"".concat(e._id,"-").concat(t))})),Object(F.jsx)("br",{}),e.asset.metadata.items.map((function(t){return Object(F.jsxs)(c.Fragment,{children:[Object(F.jsxs)(x.a,{variant:"body3",children:[t.name," - ",t.rarity]}),Object(F.jsx)("br",{})]},"".concat(e._id,"-").concat(t.name))}))]}),children:Object(F.jsxs)(v.a,{onClick:function(){return window.open("https://cnft.io/token/".concat(e._id),"_blank")},children:[Object(F.jsx)(g.a,{component:"img",image:"https://ipfs.io/ipfs/".concat(e.asset.metadata.image.replace("ipfs://","")),alt:""}),Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(x.a,{gutterBottom:!0,variant:"h5",children:["\u20b3",e.price/1e6]}),Object(F.jsxs)(x.a,{variant:"body2",color:"text.secondary",children:[e.asset.metadata.name,Object(F.jsx)("br",{}),Object(F.jsxs)("span",{style:{fontSize:"0.7rem"},children:["Listed: ",new Date(e.createdAt).toLocaleString()]}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsxs)("span",{className:"icon-wrapper",children:[Object(F.jsxs)("span",{className:"icon-item",children:[Object(F.jsx)(w.a,{fontSize:"small"})," ",e.views.length]}),Object(F.jsxs)("span",{className:"icon-item",children:[Object(F.jsx)(k.a,{fontSize:"small"})," ",e.favouriteCount]})]})]})]})]})})})}var z=function(t){var e=t.title,n=t.options,a=Object(c.useState)([]),r=Object(l.a)(a,2),i=r[0],d=r[1],b=Object(c.useState)(!1),u=Object(l.a)(b,2),p=u[0],f=u[1],h=Object(c.useRef)(1),m=Object(O.a)("(min-width: 768px)");return Object(c.useEffect)((function(){var t=setInterval((function(){C(n).then((function(t){d((function(e){if(!e.length)return t;var n,c=[],a=Object(o.a)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(r._id===e[0]._id)break;c.push(r)}}catch(i){a.e(i)}finally{a.f()}return[].concat(c,Object(s.a)(e))}))})).catch((function(t){console.error(t)}))}),1e4);return function(){clearInterval(t)}}),[n]),Object(F.jsxs)("div",{className:"listings-container",children:[Object(F.jsx)(x.a,{variant:"h4",component:"div",sx:{margin:"1rem 0",fontFamily:"IndieFlower",fontWeight:"bold",color:"whitesmoke",textShadow:"-1px 1px 3px black"},children:e}),Object(F.jsxs)("div",{className:"list",onScroll:function(t){var e=t.target,c=e.scrollTop,a=e.scrollHeight,r=e.clientHeight,i=e.scrollLeft,o=e.clientWidth,l=e.scrollWidth;!p&&(m&&c===a-r||!m&&i===l-o)&&(h.current+=1,f(!0),C(Object(j.a)(Object(j.a)({},n),{},{page:h.current})).then((function(t){d((function(e){for(var n=[],c=t.length-1;c>=0;c--){var a=t[c];if(a._id===e[e.length-1]._id)break;n.unshift(a)}return[].concat(Object(s.a)(e),n)})),f(!1)})).catch((function(t){console.error(t),f(!1)})))},children:[i.length?i.map((function(t){return Object(F.jsx)(W,{listing:t},t._id)})):Object(F.jsx)(M,{}),p&&Object(F.jsx)(M,{})]})]})};var L=function(){return Object(F.jsxs)("div",{className:"App",children:[Object(F.jsx)(z,{title:"Recently Listed",options:{sold:!1}}),Object(F.jsx)(z,{title:"Recently Sold",options:{sold:!0}})]})};i.a.render(Object(F.jsx)(a.a.StrictMode,{children:Object(F.jsx)(L,{})}),document.getElementById("root"))},84:function(t,e,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.10e02c08.chunk.js.map